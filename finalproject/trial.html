<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Job Seekers | Jobs</title>
  <meta name="description" content="Find top job opportunities in Ghana through Job Seekers." />
  <meta name="author" content="Job Seekers" />
  <!-- Styles -->
  <link rel="stylesheet" href="styles/index.css">
  <link rel="stylesheet" href="styles/jobs.css">
  <style>
    :root{
      --deep-blue:#0c4b78;
      --accent:#007bff;
      --light-bg:#f5f8fd;
      --muted:#6b7a86;
      --white:#fff;
      --font-main:"Segoe UI", Arial, sans-serif;
    }
    body{font-family:var(--font-main);margin:0;background:var(--light-bg);color:var(--deep-blue);}

    /* Buttons (used for Find & Apply) */
    .btn{display:inline-block;padding:0.6rem 1.1rem;border-radius:30px;border:none;cursor:pointer;font-weight:600}
    .btn.primary{background:var(--accent);color:var(--white)}
    .btn.primary:hover{background:#005ec4}

    /* Page layout */
    .job-search{background:#e8f1fb;text-align:center;padding:3rem 1rem}
    .job-search h1{font-size:2rem;margin-bottom:.3rem}
    .job-search p{color:var(--muted);margin-bottom:1.8rem}

    .search-bar{display:flex;justify-content:center;align-items:center;gap:.8rem;flex-wrap:wrap;background:var(--white);padding:1rem;border-radius:50px;max-width:950px;margin:0 auto;box-shadow:0 3px 10px rgba(0,0,0,.08)}
    .search-bar select,.search-bar button{border:none;outline:none;font-size:1rem;padding:.7rem 1rem;border-radius:30px}
    .search-bar select{background:#f7f7f7;color:var(--deep-blue);min-width:180px}
    .search-bar button{min-width:140px}

    .featured-jobs{text-align:center;margin:3rem auto;max-width:1000px;padding:0 1rem}
    .featured-jobs h2{font-size:1.8rem;margin-bottom:.3rem}
    .featured-jobs p{color:var(--muted);margin-bottom:2rem}

    .job-list{display:grid;gap:1.2rem;grid-template-columns:repeat(auto-fit,minmax(280px,1fr))}

    .job-card{background:var(--white);border-radius:16px;box-shadow:0 2px 10px rgba(0,0,0,.08);padding:1.2rem 1.5rem;text-align:left;display:flex;flex-direction:column;gap:.6rem}
    .job-card h3{margin:0;color:var(--deep-blue)}
    .job-card p{color:var(--muted);margin:.2rem 0}
    .job-meta{display:flex;flex-wrap:wrap;gap:.6rem;font-size:.9rem}
    .job-meta span{background:#f2f8ff;padding:.35rem .6rem;border-radius:20px;color:var(--deep-blue);font-weight:500}

    .center{text-align:center;margin-top:2rem}
    .btn-load{background:var(--accent);color:#fff;padding:.7rem 1.5rem;border-radius:25px;border:none;cursor:pointer;font-weight:600}
    .btn-load:hover{background:#005ec4}

    /* Modal */
    .apply-modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.6);justify-content:center;align-items:center;z-index:999}
    .apply-modal.show{display:flex}
    .apply-modal-content{background:#fff;padding:2rem;border-radius:12px;width:90%;max-width:420px;box-shadow:0 4px 20px rgba(0,0,0,.2);position:relative}
    .apply-modal-content h2{margin-top:0;color:var(--deep-blue);font-size:1.25rem}
    .apply-modal-content label{display:block;margin-top:1rem;color:#333;font-weight:600}
    .apply-modal-content input{width:100%;padding:.6rem;border:1px solid #ccc;border-radius:6px;margin-top:.3rem;font-size:1rem}
    .apply-modal-content .btn{width:100%;margin-top:1rem;border-radius:8px}
    .close-btn{position:absolute;top:8px;right:12px;font-size:1.4rem;cursor:pointer;color:#555}
    .close-btn:hover{color:#000}

    /* small responsive tweak */
    @media (max-width:640px){ .search-bar{padding:.6rem;border-radius:999px} }
  </style>
</head>
<body>

    <!-- HEADER -->
  <header class="topbar">
    <div class="topbar-inner">
      <!-- Logo & Brand -->
      <div class="brand">
        <img src="images/logo.jpg" alt="Job Seekers logo" class="logo" loading="lazy">
        <span class="site-name">Job Seekers</span>
      </div>

      <!-- Hamburger Menu -->
      <button id="menuToggle" class="hamburger" aria-label="Toggle navigation" aria-expanded="false">‚ò∞</button>

      <!-- Navigation -->
      <nav id="mainNav" class="nav">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="jobs.html" class="active">Jobs</a></li>
          <li><a href="resources.html">Resources</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </nav>

      <!-- Action Button -->
      <div class="top-actions">
        <a href="join.html" class="btn small">Join Now</a>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero">
    <div class="hero-inner">
      <div class="hero-left">
        <h1>Jobs</h1>
        <p class="lead">
          Explore valuable tools and guidance to support your career journey.
          Whether you're preparing for interviews, crafting a resume, or improving your professional network ‚Äî we have you covered.
        </p>
        <div class="hero-ctas">
          <a class="btn primary" href="resources.html">Browse Resources</a>
        </div>
      </div>

      <div class="hero-right" aria-hidden="true">
        <div class="portrait-pill">
          <img src="images/hero-person.webp" alt="Professional person" loading="lazy">
        </div>
      </div>
    </div>
  </section>

  <!-- SEARCH -->
  <section class="job-search" aria-labelledby="search-heading">
    <h1 id="search-heading">Find the Perfect Job for You</h1>
    <p>Boost your career opportunities through top job offers in Ghana.</p>

    <div class="search-bar" role="region" aria-label="Job filters">
      <select id="functionFilter" aria-label="Job Function">
        <option value="">Job Function</option>
        <option value="Sales">Sales</option>
        <option value="IT">IT</option>
        <option value="Marketing">Marketing</option>
        <option value="Customer Service">Customer Service</option>
      </select>

      <select id="typeFilter" aria-label="Job Type">
        <option value="">Job Type</option>
        <option value="Full-time">Full-time</option>
        <option value="Part-time">Part-time</option>
        <option value="Remote">Remote</option>
        <option value="Internship">Internship</option>
      </select>

      <select id="locationFilter" aria-label="Job Location">
        <option value="">Job Location</option>
        <option value="Accra">Accra</option>
        <option value="Kumasi">Kumasi</option>
        <option value="Takoradi">Takoradi</option>
        <option value="Tamale">Tamale</option>
      </select>

      <!-- Find button -->
      <button id="findBtn" class="btn primary" aria-label="Find jobs">Find a Job</button>
    </div>
  </section>

  <!-- RESULTS -->
  <section class="featured-jobs" aria-labelledby="results-heading">
    <h2 id="results-heading">Featured Job Offers</h2>
    <p id="resultsCount" style="min-height:1.2rem;color:var(--muted)"></p>
    <div id="jobList" class="job-list" role="list" aria-live="polite"></div>

    <div class="center">
      <button id="allBtn" class="btn-load" aria-label="Show all job offers">All Job Offers</button>
    </div>
  </section>

  <!-- APPLY MODAL -->
  <div id="applyModal" class="apply-modal" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="apply-modal-content">
      <span id="closeModal" class="close-btn" aria-hidden="true">&times;</span>
      <h2 id="modalTitle">Apply for Job</h2>

      <label for="applicantName">Full name</label>
      <input id="applicantName" type="text" placeholder="Your full name">

      <label for="applicantEmail">Email</label>
      <input id="applicantEmail" type="email" placeholder="you@example.com">

      <label for="applicantNote">A short note</label>
      <input id="applicantNote" type="text" placeholder="Your message or cover note">

      <!-- Apply button styled same as Find -->
      <button id="submitApplication" class="btn primary">Submit Application</button>
    </div>
  </div>

  


   <!-- CONTACT CTA -->
  <section class="contact-cta">
    <h2>Reach out to us</h2>
    <p>
      Do you have questions about applying for jobs, preparing a resume, or<br>
      improving your chances of success? We‚Äôd love to hear from you.
    </p>
    <a href="contact.html" class="btn">Get In Touch</a>
  </section>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="footer-container">
      <div class="footer-left">
        <img src="images/logo.jpg" alt="Job Seekers Logo" class="footer-logo">
        <p>
          At <strong>Job Seekers</strong>, our mission is to provide resources, guidance, 
          and real opportunities to help individuals find meaningful employment.  
          We connect motivated applicants with trusted employers.
        </p>
      </div>

      <div class="footer-links">
        <ul>
          <li><a href="#">Privacy Policy</a></li>
          <li><a href="#">Cookies Policy</a></li>
        </ul>
      </div>

      <div class="footer-links">
        <h4>Resources</h4>
        <ul>
          <li><a href="#">Resume Writing</a></li>
          <li><a href="#">Cover Letter Tips</a></li>
          <li><a href="#">Interview Preparation</a></li>
          <li><a href="#">Job Search Strategies</a></li>
          <li><a href="#">Career Development</a></li>
        </ul>
      </div>

      <div class="footer-links">
        <h4>Connect</h4>
        <ul>
          <li><a href="#">üåê Website</a></li>
          <li><a href="mailto:info@jobseekers.com">üìß Email</a></li>
          <li><a href="#">üì± WhatsApp</a></li>
          <li><a href="#">üìû Telephone</a></li>
        </ul>
      </div>
    </div>
  </footer>

  <footer class="site-footer">
    <div class="container">
      <p>&copy; <span id="year"></span> Job Seekers</p>
    </div>
  </footer>

<script>
/* ------------------------------
   Data: diverse job set (various combos)
   ------------------------------ */
const jobs = [
  // Accra - Sales
  {id:"j001",title:"Sales Executive",company:"Ghana Trade Ltd",location:"Accra",type:"Full-time",function:"Sales",description:"Drive company sales and manage client relationships."},
  {id:"j002",title:"Sales Assistant",company:"MarketHub",location:"Accra",type:"Part-time",function:"Sales",description:"Support product promotions and assist customers."},
  {id:"j003",title:"Sales Manager",company:"RetailPro",location:"Accra",type:"Full-time",function:"Sales",description:"Lead sales team and set sales strategy."},

  // Kumasi - IT
  {id:"j004",title:"IT Support Specialist",company:"Tech Solutions Ghana",location:"Kumasi",type:"Full-time",function:"IT",description:"Provide IT support and maintain systems."},
  {id:"j005",title:"Network Administrator",company:"Kumasi Digital",location:"Kumasi",type:"Full-time",function:"IT",description:"Maintain networks and server infra."},
  {id:"j006",title:"Junior Web Developer",company:"CodeWave",location:"Kumasi",type:"Internship",function:"IT",description:"Assist with frontend projects and bug fixes."},

  // Accra - Marketing
  {id:"j007",title:"Marketing Intern",company:"AdPro Agency",location:"Accra",type:"Internship",function:"Marketing",description:"Help run campaigns and manage socials."},
  {id:"j008",title:"Marketing Officer",company:"Bright Media",location:"Accra",type:"Full-time",function:"Marketing",description:"Plan and execute promotional campaigns."},
  {id:"j009",title:"Digital Marketing Specialist",company:"SocialSavvy",location:"Accra",type:"Remote",function:"Marketing",description:"Manage paid ads and analytics."},

  // Takoradi - Customer Service & Marketing
  {id:"j010",title:"Customer Service Rep",company:"FastServe",location:"Takoradi",type:"Part-time",function:"Customer Service",description:"Support customers via phone & chat."},
  {id:"j011",title:"Customer Support Specialist",company:"CareConnect",location:"Takoradi",type:"Full-time",function:"Customer Service",description:"Handle escalations and client care."},
  {id:"j012",title:"Marketing Officer",company:"Coast Promotions",location:"Takoradi",type:"Full-time",function:"Marketing",description:"Coordinate local marketing events."},

  // Tamale - IT & Sales
  {id:"j013",title:"Remote Web Developer",company:"CloudWorks",location:"Tamale",type:"Remote",function:"IT",description:"Work remotely on web applications."},
  {id:"j014",title:"Sales Manager",company:"GloCom",location:"Tamale",type:"Full-time",function:"Sales",description:"Lead regional sales and business growth."},
  {id:"j015",title:"Field Sales Rep",company:"MarketReach",location:"Tamale",type:"Part-time",function:"Sales",description:"Product demonstrations and field sales."},

  // Additional combos to ensure breadth
  {id:"j016",title:"Customer Support Lead",company:"HelpDesk Ltd",location:"Accra",type:"Full-time",function:"Customer Service",description:"Lead the support team and processes."},
  {id:"j017",title:"SEO Specialist",company:"SearchMax",location:"Kumasi",type:"Remote",function:"Marketing",description:"Improve organic presence and content."},
  {id:"j018",title:"DevOps Engineer",company:"InfraCore",location:"Accra",type:"Full-time",function:"IT",description:"Automate deployments and monitor infra."},
  {id:"j019",title:"Retail Sales Rep",company:"OutletOne",location:"Takoradi",type:"Part-time",function:"Sales",description:"In-store assistance & merchandising."},
  {id:"j020",title:"Product Marketing Manager",company:"BrandForge",location:"Tamale",type:"Full-time",function:"Marketing",description:"Define product go-to-market strategies."},
  {id:"j021",title:"IT Intern",company:"YoungCoders",location:"Takoradi",type:"Internship",function:"IT",description:"Support dev teams with small tasks."},
  {id:"j022",title:"Remote Customer Service",company:"HelpRemote",location:"Accra",type:"Remote",function:"Customer Service",description:"Remote client support and troubleshooting."},
  {id:"j023",title:"Business Development Exec",company:"BizGrow",location:"Kumasi",type:"Full-time",function:"Sales",description:"Identify partnerships and sales leads."},
  {id:"j024",title:"Social Media Coordinator",company:"ViralWorks",location:"Tamale",type:"Internship",function:"Marketing",description:"Plan posts and engage audiences."}
];

/* ------------------------------
   UI elements
   ------------------------------ */
const jobList = document.getElementById('jobList');
const resultsCount = document.getElementById('resultsCount');
const functionFilter = document.getElementById('functionFilter');
const typeFilter = document.getElementById('typeFilter');
const locationFilter = document.getElementById('locationFilter');
const findBtn = document.getElementById('findBtn');
const allBtn = document.getElementById('allBtn');

const applyModal = document.getElementById('applyModal');
const closeModal = document.getElementById('closeModal');
const modalTitle = document.getElementById('modalTitle');
const applicantName = document.getElementById('applicantName');
const applicantEmail = document.getElementById('applicantEmail');
const applicantNote = document.getElementById('applicantNote');
const submitApplication = document.getElementById('submitApplication');

document.getElementById('year').textContent = new Date().getFullYear();

/* ------------------------------
   Helper: render jobs
   ------------------------------ */
function renderJobs(list){
  jobList.innerHTML = '';
  if(!list || list.length === 0){
    resultsCount.textContent = 'No jobs found.';
    return;
  }
  resultsCount.textContent = `${list.length} job(s) found`;
  list.forEach(job=>{
    const card = document.createElement('div');
    card.className = 'job-card';
    card.innerHTML = `
      <h3>${escapeHtml(job.title)}</h3>
      <p><strong>Company:</strong> ${escapeHtml(job.company)}</p>
      <div class="job-meta" role="listitem">
        <span>${escapeHtml(job.location)}</span>
        <span>${escapeHtml(job.type)}</span>
        <span>${escapeHtml(job.function)}</span>
      </div>
      <p>${escapeHtml(job.description)}</p>
      <div style="margin-top:auto;display:flex;gap:.6rem;">
        <button class="btn primary apply-btn" data-id="${escapeHtml(job.id)}">Apply Now</button>
        
      </div>
    `;
    jobList.appendChild(card);
  });
}

/* small HTML escape */
function escapeHtml(s){
  if(s === undefined || s === null) return '';
  return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');
}

/* ------------------------------
   Filtering logic with fallback
   - Ensures at least minResults (prefer 3, minimum 2)
   - Only All Jobs button shows entire dataset
   ------------------------------ */
const PREFERRED_COUNT = 3;
const MIN_COUNT = 2;

function filterWithFallback(){
  const selFunc = functionFilter.value.trim();
  const selType = typeFilter.value.trim();
  const selLoc = locationFilter.value.trim();

  // Build array of selected filter pairs for easier matching
  const selected = [];
  if(selFunc) selected.push({k:'function',v:selFunc});
  if(selType) selected.push({k:'type',v:selType});
  if(selLoc) selected.push({k:'location',v:selLoc});

  // If no filter selected, return top PREFERRED_COUNT (but not all jobs)
  if(selected.length === 0){
    renderJobs(jobs.slice(0,PREFERRED_COUNT));
    return;
  }

  // compute match score for each job: number of selected filters that match
  const scored = jobs.map(job=>{
    let score = 0;
    selected.forEach(s=>{
      if(job[s.k] && job[s.k] === s.v) score++;
    });
    return {...job, _score: score};
  });

  // Try to get exact matches (score === selected.length)
  let exact = scored.filter(j => j._score === selected.length);
  if(exact.length >= PREFERRED_COUNT) return renderJobs(exact);

  // If not enough, expand to items with score = selected.length - 1, then -2, etc.
  let results = [...exact];
  for(let target = selected.length - 1; target >= 0 && results.length < PREFERRED_COUNT; target--){
    const more = scored.filter(j => j._score === target && !results.some(r=>r.id === j.id));
    results = results.concat(more);
  }

  // If after exhausting we still have less than MIN_COUNT, fill up with top jobs except duplicates
  if(results.length < MIN_COUNT){
    const remaining = jobs.filter(j => !results.some(r => r.id === j.id)).slice(0, MIN_COUNT - results.length);
    results = results.concat(remaining);
  }

  // Finally render at least MIN_COUNT and up to results length
  renderJobs(results.slice(0, Math.max(MIN_COUNT, Math.min(results.length, PREFERRED_COUNT))));
}

/* ------------------------------
   Event listeners
   ------------------------------ */
findBtn.addEventListener('click', (e)=>{
  e.preventDefault();
  filterWithFallback();
});

// All Job Offers: show full dataset only when clicked
allBtn.addEventListener('click', (e)=>{
  e.preventDefault();
  renderJobs(jobs);
});

/* ------------------------------
   Apply modal handling
   ------------------------------ */
jobList.addEventListener('click', (e)=>{
  const btn = e.target.closest('.apply-btn');
  if(!btn) return;
  const id = btn.getAttribute('data-id');
  const job = jobs.find(j=>j.id === id);
  if(!job) return;
  openApplyModal(job);
});

function openApplyModal(job){
  modalTitle.textContent = `${job.title} ‚Äî ${job.company}`;
  applicantName.value = '';
  applicantEmail.value = '';
  applicantNote.value = '';
  applyModal.classList.add('show');
  applyModal.setAttribute('aria-hidden','false');
  applicantName.focus();
}

function closeApplyModal(){
  applyModal.classList.remove('show');
  applyModal.setAttribute('aria-hidden','true');
}

closeModal.addEventListener('click', closeApplyModal);
applyModal.addEventListener('click', (e)=>{ if(e.target === applyModal) closeApplyModal(); });

submitApplication.addEventListener('click', ()=>{
  const name = applicantName.value.trim();
  const email = applicantEmail.value.trim();
  if(!name || !email){
    alert('Please enter your name and email before submitting.');
    return;
  }
  // Placeholder: here you'd send data to your backend
  alert('Application submitted. Thank you ‚Äî we will reach out by email if shortlisted.');
  closeApplyModal();
});

/* ------------------------------
   Initial state
   - No jobs shown until user clicks Find or All
   - resultsCount remains blank
   ------------------------------ */
resultsCount.textContent = '';

</script>
</body>
</html>
